{
  "type" : "object",
  "properties": {
    "status": {
      "type": "string",
      "enum": ["ok", "error"]
    }
  },
  "anyOf": [{
    "if": {
      "properties": {
        "status": {
          "const": "ok"
        }
      }
    },
    "then": {
      "properties": {
        "protocol_version": {
          "type": "string"
        },
        "implementation": {
          "type": "string"
        },
        "implementation_version": {
          "type": "string"
        },
        "language_info": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "version": {
              "type": "string"
            },
            "mimetype": {
              "type": "string"
            },
            "file_extension": {
              "type": "string"
            },
            "pygments_lexer": {
              "type": "string"
            },
            "codemirror_mode": {
              "anyOf": [{
                "type": "string"
              }, {
                "type": "object"
              }]
            },
            "nbconvert_exporter": {
              "type": "string"
            }
          },
          "required": ["name", "version", "mimetype", "file_extension"],
          "additionalProperties": false
        },
        "banner": {
          "type": "string"
        },
        "help_links": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "text": {
                "type": "string"
              },
              "url": {
                "type": "string"
              }
            },
            "required": ["text", "url"],
            "additionalProperties": false
          }
        }
      },
      "required": [
        "protocol_version", "implementation", "implementation_version",
        "language_info", "banner"
      ]
    }
  }, {
    "if": {
      "properties": {
        "status": {
          "const": "error"
        }
      }
    },
    "then": {
      "properties": {
        "ename": {
          "type": "string"
        },
        "evalue": {
          "type": "string"
        },
        "traceback": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": ["ename", "evalue", "traceback"]
    }
  }],
  "required": ["status"],
  "additionalProperties": false
}
